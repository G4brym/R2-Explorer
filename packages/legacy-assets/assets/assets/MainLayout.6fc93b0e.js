import{f as de,h as b,j as A,k as Se,i as Me,g as R,x as Q,q as k,t as xe,a1 as ct,l as Ie,n as Ue,a2 as ft,Y as K,u as mt,a3 as vt,a4 as ee,a5 as ye,V as Oe,M as we,a6 as _e,a7 as ke,R as pt,s as ht,z as Le,a8 as L,a9 as Ne,a as W,_ as I,o as F,c as N,w as s,e as n,F as w,J as B,r as x,aa as qe,Q as te,G as D,I as bt,ab as He,ac as gt,ad as yt}from"./index.7b40bbd4.js";import{b as wt,Q as kt,a as $t}from"./QLayout.59f4dd30.js";import{u as Ct,b as ae,a as _t,Q as re,c as St,d as qt,e as le,f as oe,g as ne,h as Ft,i as Bt}from"./QTable.1e443668.js";import{c as Vt,u as Dt,a as Tt,b as Qt,d as Ot,e as Re,R as We,f as Ye}from"./QSeparator.83243ffb.js";import{u as Lt,a as Nt}from"./use-dark.5b3707da.js";import{Q as M,a as ie}from"./QCard.6072a0ad.js";import{Q as ue}from"./QCardActions.b2294be0.js";import{Q as se}from"./QInput.79d32fca.js";import{C as z,Q as At}from"./QSpace.d604b075.js";import{Q as Xe}from"./QForm.e513f022.js";import{u as Y}from"./main-store.718cb995.js";import"./scroll.729e661d.js";import"./use-checkbox.8a12221a.js";import"./focus-manager.1ddae684.js";import"./use-transition.d5ce3370.js";import"./axios.c4f749e1.js";var Et=de({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const u=b(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>A("div",{class:u.value,role:"toolbar"},Se(t.default))}}),Pt=de({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:u}){const{proxy:{$q:v}}=Ue(),a=Me(Ie,R);if(a===R)return console.error("QHeader needs to be child of QLayout"),R;const l=Q(parseInt(e.heightHint,10)),r=Q(!0),p=b(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||v.platform.is.ios&&a.isContainer.value===!0),d=b(()=>{if(e.modelValue!==!0)return 0;if(p.value===!0)return r.value===!0?l.value:0;const c=l.value-a.scroll.value.position;return c>0?c:0}),f=b(()=>e.modelValue!==!0||p.value===!0&&r.value!==!0),i=b(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),S=b(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),$=b(()=>{const c=a.rows.value.top,V={};return c[0]==="l"&&a.left.space===!0&&(V[v.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),c[2]==="r"&&a.right.space===!0&&(V[v.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),V});function g(c,V){a.update("header",c,V)}function h(c,V){c.value!==V&&(c.value=V)}function T({height:c}){h(l,c),g("size",c)}function C(c){i.value===!0&&h(r,!0),u("focusin",c)}k(()=>e.modelValue,c=>{g("space",c),h(r,!0),a.animate()}),k(d,c=>{g("offset",c)}),k(()=>e.reveal,c=>{c===!1&&h(r,e.modelValue)}),k(r,c=>{a.animate(),u("reveal",c)}),k(a.scroll,c=>{e.reveal===!0&&h(r,c.direction==="up"||c.position<=e.revealOffset||c.position-c.inflectionPoint<100)});const y={};return a.instances.header=y,e.modelValue===!0&&g("size",l.value),g("space",e.modelValue),g("offset",d.value),xe(()=>{a.instances.header===y&&(a.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const c=ct(t.default,[]);return e.elevated===!0&&c.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(A(wt,{debounce:0,onResize:T})),A("header",{class:S.value,style:$.value,onFocusin:C},c)}}});const Fe={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},zt=Object.keys(Fe);Fe.all=!0;function Ae(e){const t={};for(const u of zt)e[u]===!0&&(t[u]=!0);return Object.keys(t).length===0?Fe:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Mt=["INPUT","TEXTAREA"];function Ee(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Mt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function $e(e,t,u){const v=_e(e);let a,l=v.left-t.event.x,r=v.top-t.event.y,p=Math.abs(l),d=Math.abs(r);const f=t.direction;f.horizontal===!0&&f.vertical!==!0?a=l<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?a=r<0?"up":"down":f.up===!0&&r<0?(a="up",p>d&&(f.left===!0&&l<0?a="left":f.right===!0&&l>0&&(a="right"))):f.down===!0&&r>0?(a="down",p>d&&(f.left===!0&&l<0?a="left":f.right===!0&&l>0&&(a="right"))):f.left===!0&&l<0?(a="left",p<d&&(f.up===!0&&r<0?a="up":f.down===!0&&r>0&&(a="down"))):f.right===!0&&l>0&&(a="right",p<d&&(f.up===!0&&r<0?a="up":f.down===!0&&r>0&&(a="down")));let i=!1;if(a===void 0&&u===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};a=t.event.lastDir,i=!0,a==="left"||a==="right"?(v.left-=l,p=0,l=0):(v.top-=r,d=0,r=0)}return{synthetic:i,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:v,direction:a,isFirst:t.event.isFirst,isFinal:u===!0,duration:Date.now()-t.event.time,distance:{x:p,y:d},offset:{x:l,y:r},delta:{x:v.left-t.event.lastX,y:v.top-t.event.lastY}}}}let xt=0;var Ce=ft({name:"touch-pan",beforeMount(e,{value:t,modifiers:u}){if(u.mouse!==!0&&K.has.touch!==!0)return;function v(l,r){u.mouse===!0&&r===!0?pt(l):(u.stop===!0&&we(l),u.prevent===!0&&Oe(l))}const a={uid:"qvtp_"+xt++,handler:t,modifiers:u,direction:Ae(u),noop:mt,mouseStart(l){Ee(l,a)&&vt(l)&&(ee(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(l,!0))},touchStart(l){if(Ee(l,a)){const r=l.target;ee(a,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),a.start(l)}},start(l,r){if(K.is.firefox===!0&&ye(e,!0),a.lastEvt=l,r===!0||u.stop===!0){if(a.direction.all!==!0&&(r!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const f=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Oe(f),l.cancelBubble===!0&&we(f),Object.assign(f,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[a.uid]:l.qClonedBy.concat(a.uid)}),a.initialEvent={target:l.target,event:f}}we(l)}const{left:p,top:d}=_e(l);a.event={x:p,y:d,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:p,lastY:d}},move(l){if(a.event===void 0)return;const r=_e(l),p=r.left-a.event.x,d=r.top-a.event.y;if(p===0&&d===0)return;a.lastEvt=l;const f=a.event.mouse===!0,i=()=>{v(l,f);let g;u.preserveCursor!==!0&&u.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Vt(),a.styleCleanup=h=>{if(a.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),f===!0){const T=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{T(),h()},50):T()}else h!==void 0&&h()}};if(a.event.detected===!0){a.event.isFirst!==!0&&v(l,a.event.mouse);const{payload:g,synthetic:h}=$e(l,a,!1);g!==void 0&&(a.handler(g)===!1?a.end(l):(a.styleCleanup===void 0&&a.event.isFirst===!0&&i(),a.event.lastX=g.position.left,a.event.lastY=g.position.top,a.event.lastDir=h===!0?void 0:g.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||f===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){i(),a.event.detected=!0,a.move(l);return}const S=Math.abs(p),$=Math.abs(d);S!==$&&(a.direction.horizontal===!0&&S>$||a.direction.vertical===!0&&S<$||a.direction.up===!0&&S<$&&d<0||a.direction.down===!0&&S<$&&d>0||a.direction.left===!0&&S>$&&p<0||a.direction.right===!0&&S>$&&p>0?(a.event.detected=!0,a.move(l)):a.end(l,!0))},end(l,r){if(a.event!==void 0){if(ke(a,"temp"),K.is.firefox===!0&&ye(e,!1),r===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler($e(l===void 0?a.lastEvt:l,a).payload);const{payload:p}=$e(l===void 0?a.lastEvt:l,a,!0),d=()=>{a.handler(p)};a.styleCleanup!==void 0?a.styleCleanup(d):d()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(e.__qtouchpan=a,u.mouse===!0){const l=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";ee(a,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}K.has.touch===!0&&ee(a,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const u=e.__qtouchpan;u!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&u.end(),u.handler=t.value),u.direction=Ae(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),ke(t,"main"),ke(t,"temp"),K.is.firefox===!0&&ye(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const Pe=150;var ze=de({name:"QDrawer",inheritAttrs:!1,props:{...Dt,...Lt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Tt,"onLayout","miniState"],setup(e,{slots:t,emit:u,attrs:v}){const a=Ue(),{proxy:{$q:l}}=a,r=Nt(e,l),{preventBodyScroll:p}=_t(),{registerTimeout:d,removeTimeout:f}=Qt(),i=Me(Ie,R);if(i===R)return console.error("QDrawer needs to be child of QLayout"),R;let S,$=null,g;const h=Q(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),T=b(()=>e.mini===!0&&h.value!==!0),C=b(()=>T.value===!0?e.miniWidth:e.width),y=Q(e.showIfAbove===!0&&h.value===!1?!0:e.modelValue===!0),c=b(()=>e.persistent!==!0&&(h.value===!0||Ge.value===!0));function V(o,m){if(je(),o!==!1&&i.animate(),q(0),h.value===!0){const _=i.instances[J.value];_!==void 0&&_.belowBreakpoint===!0&&_.hide(!1),E(1),i.isContainer.value!==!0&&p(!0)}else E(0),o!==!1&&he(!1);d(()=>{o!==!1&&he(!0),m!==!0&&u("show",o)},Pe)}function Be(o,m){Ke(),o!==!1&&i.animate(),E(0),q(U.value*C.value),be(),m!==!0?d(()=>{u("hide",o)},Pe):f()}const{show:ce,hide:X}=Ot({showing:y,hideOnRouteChange:c,handleShow:V,handleHide:Be}),{addToHistory:je,removeFromHistory:Ke}=Ct(y,X,c),G={belowBreakpoint:h,hide:X},O=b(()=>e.side==="right"),U=b(()=>(l.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),Ve=Q(0),H=Q(!1),fe=Q(!1),De=Q(C.value*U.value),J=b(()=>O.value===!0?"left":"right"),me=b(()=>y.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:C.value:0),ve=b(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(O.value?"R":"L")!==-1||l.platform.is.ios===!0&&i.isContainer.value===!0),j=b(()=>e.overlay===!1&&y.value===!0&&h.value===!1),Ge=b(()=>e.overlay===!0&&y.value===!0&&h.value===!1),Je=b(()=>"fullscreen q-drawer__backdrop"+(y.value===!1&&H.value===!1?" hidden":"")),Ze=b(()=>({backgroundColor:`rgba(0,0,0,${Ve.value*.4})`})),Te=b(()=>O.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),et=b(()=>O.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),tt=b(()=>{const o={};return i.header.space===!0&&Te.value===!1&&(ve.value===!0?o.top=`${i.header.offset}px`:i.header.space===!0&&(o.top=`${i.header.size}px`)),i.footer.space===!0&&et.value===!1&&(ve.value===!0?o.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(o.bottom=`${i.footer.size}px`)),o}),at=b(()=>{const o={width:`${C.value}px`,transform:`translateX(${De.value}px)`};return h.value===!0?o:Object.assign(o,tt.value)}),lt=b(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),ot=b(()=>`q-drawer q-drawer--${e.side}`+(fe.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(H.value===!0?" no-transition":y.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(ve.value===!0||j.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Te.value===!0?" q-drawer--top-padding":""))),nt=b(()=>{const o=l.lang.rtl===!0?e.side:J.value;return[[Ce,st,void 0,{[o]:!0,mouse:!0}]]}),rt=b(()=>{const o=l.lang.rtl===!0?J.value:e.side;return[[Ce,Qe,void 0,{[o]:!0,mouse:!0}]]}),it=b(()=>{const o=l.lang.rtl===!0?J.value:e.side;return[[Ce,Qe,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){dt(h,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}k(h,o=>{o===!0?(S=y.value,y.value===!0&&X(!1)):e.overlay===!1&&e.behavior!=="mobile"&&S!==!1&&(y.value===!0?(q(0),E(0),be()):ce(!1))}),k(()=>e.side,(o,m)=>{i.instances[m]===G&&(i.instances[m]=void 0,i[m].space=!1,i[m].offset=0),i.instances[o]=G,i[o].size=C.value,i[o].space=j.value,i[o].offset=me.value}),k(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),k(()=>e.behavior+e.breakpoint,pe),k(i.isContainer,o=>{y.value===!0&&p(o!==!0),o===!0&&pe()}),k(i.scrollbarWidth,()=>{q(y.value===!0?0:void 0)}),k(me,o=>{P("offset",o)}),k(j,o=>{u("onLayout",o),P("space",o)}),k(O,()=>{q()}),k(C,o=>{q(),ge(e.miniToOverlay,o)}),k(()=>e.miniToOverlay,o=>{ge(o,C.value)}),k(()=>l.lang.rtl,()=>{q()}),k(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ut(),i.animate())}),k(T,o=>{u("miniState",o)});function q(o){o===void 0?Le(()=>{o=y.value===!0?0:C.value,q(U.value*o)}):(i.isContainer.value===!0&&O.value===!0&&(h.value===!0||Math.abs(o)===C.value)&&(o+=U.value*i.scrollbarWidth.value),De.value=o)}function E(o){Ve.value=o}function he(o){const m=o===!0?"remove":i.isContainer.value!==!0?"add":"";m!==""&&document.body.classList[m]("q-body--drawer-toggle")}function ut(){$!==null&&clearTimeout($),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),fe.value=!0,$=setTimeout(()=>{$=null,fe.value=!1,a&&a.proxy&&a.proxy.$el&&a.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function st(o){if(y.value!==!1)return;const m=C.value,_=ae(o.distance.x,0,m);if(o.isFinal===!0){_>=Math.min(75,m)===!0?ce():(i.animate(),E(0),q(U.value*m)),H.value=!1;return}q((l.lang.rtl===!0?O.value!==!0:O.value)?Math.max(m-_,0):Math.min(0,_-m)),E(ae(_/m,0,1)),o.isFirst===!0&&(H.value=!0)}function Qe(o){if(y.value!==!0)return;const m=C.value,_=o.direction===e.side,Z=(l.lang.rtl===!0?_!==!0:_)?ae(o.distance.x,0,m):0;if(o.isFinal===!0){Math.abs(Z)<Math.min(75,m)===!0?(i.animate(),E(1),q(0)):X(),H.value=!1;return}q(U.value*Z),E(ae(1-Z/m,0,1)),o.isFirst===!0&&(H.value=!0)}function be(){p(!1),he(!0)}function P(o,m){i.update(e.side,o,m)}function dt(o,m){o.value!==m&&(o.value=m)}function ge(o,m){P("size",o===!0?e.miniWidth:m)}return i.instances[e.side]=G,ge(e.miniToOverlay,C.value),P("space",j.value),P("offset",me.value),e.showIfAbove===!0&&e.modelValue!==!0&&y.value===!0&&e["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!0),ht(()=>{u("onLayout",j.value),u("miniState",T.value),S=e.showIfAbove===!0;const o=()=>{(y.value===!0?V:Be)(!1,!0)};if(i.totalWidth.value!==0){Le(o);return}g=k(i.totalWidth,()=>{g(),g=void 0,y.value===!1&&e.showIfAbove===!0&&h.value===!1?ce(!1):o()})}),xe(()=>{g!==void 0&&g(),$!==null&&(clearTimeout($),$=null),y.value===!0&&be(),i.instances[e.side]===G&&(i.instances[e.side]=void 0,P("size",0),P("offset",0),P("space",!1))}),()=>{const o=[];h.value===!0&&(e.noSwipeOpen===!1&&o.push(L(A("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),nt.value)),o.push(Ne("div",{ref:"backdrop",class:Je.value,style:Ze.value,"aria-hidden":"true",onClick:X},void 0,"backdrop",e.noSwipeBackdrop!==!0&&y.value===!0,()=>it.value)));const m=T.value===!0&&t.mini!==void 0,_=[A("div",{...v,key:""+m,class:[lt.value,v.class]},m===!0?t.mini():Se(t.default))];return e.elevated===!0&&y.value===!0&&_.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(Ne("aside",{ref:"content",class:ot.value,style:at.value},_,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>rt.value)),A("div",{class:"q-drawer-container"},o)}}});const It=W({name:"CreateFile",data:()=>({modal:!1,newFileName:"",loading:!1}),methods:{cancel:function(){this.modal=!1,this.newFileName="",this.loading=!1},onSubmit:async function(){this.loading=!0;const e=new Blob([""],{type:"text/plain"});await Re.uploadObjects(e,this.selectedFolder+this.newFileName,this.selectedBucket),this.$bus.emit("fetchFiles"),this.loading=!1,this.modal=!1,this.newFileName=""},open:function(){this.modal=!0}},computed:{selectedBucket:function(){return this.$route.params.bucket},selectedFolder:function(){return this.$route.params.folder&&this.$route.params.folder!==We?Ye(this.$route.params.folder):""}},setup(){return{mainStore:Y()}}});function Ut(e,t,u,v,a,l){return F(),N(re,{modelValue:e.modal,"onUpdate:modelValue":t[1]||(t[1]=r=>e.modal=r),onHide:e.cancel},{default:s(()=>[n(ie,{style:{"min-width":"350px"}},{default:s(()=>[n(Xe,{onSubmit:e.onSubmit},{default:s(()=>[n(M,null,{default:s(()=>t[2]||(t[2]=[w("div",{class:"text-h6"},"New File Name",-1)])),_:1}),n(M,{class:"q-pt-none"},{default:s(()=>[n(se,{dense:"",modelValue:e.newFileName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.newFileName=r),autofocus:"","lazy-rules":"",rules:[r=>r&&r.length>0||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),n(ue,{align:"right",class:"text-primary"},{default:s(()=>[L(n(B,{flat:"",label:"Cancel"},null,512),[[z]]),n(B,{flat:"",label:"Create",type:"submit",loading:e.loading},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue","onHide"])}var Ht=I(It,[["render",Ut]]);const Rt=W({name:"CreateFolder",data:()=>({modal:!1,newFolderName:"",loading:!1}),methods:{cancel:function(){this.modal=!1,this.newFolderName="",this.loading=!1},onSubmit:async function(){this.loading=!0,await Re.createFolder(`${this.selectedFolder+this.newFolderName}/`,this.selectedBucket),this.$bus.emit("fetchFiles"),this.loading=!1,this.modal=!1,this.newFolderName=""},open:function(){this.modal=!0}},computed:{selectedBucket:function(){return this.$route.params.bucket},selectedFolder:function(){return this.$route.params.folder&&this.$route.params.folder!==We?Ye(this.$route.params.folder):""}},setup(){return{mainStore:Y()}}});function Wt(e,t,u,v,a,l){return F(),N(re,{modelValue:e.modal,"onUpdate:modelValue":t[1]||(t[1]=r=>e.modal=r),onHide:e.cancel},{default:s(()=>[n(ie,{style:{"min-width":"350px"}},{default:s(()=>[n(Xe,{onSubmit:e.onSubmit},{default:s(()=>[n(M,null,{default:s(()=>t[2]||(t[2]=[w("div",{class:"text-h6"},"New Folder Name",-1)])),_:1}),n(M,{class:"q-pt-none"},{default:s(()=>[n(se,{dense:"",modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.newFolderName=r),autofocus:"","lazy-rules":"",rules:[r=>r&&r.length>0||"Please type something"]},null,8,["modelValue","rules"])]),_:1}),n(ue,{align:"right",class:"text-primary"},{default:s(()=>[L(n(B,{flat:"",label:"Cancel"},null,512),[[z]]),n(B,{flat:"",label:"Create",type:"submit",loading:e.loading},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue","onHide"])}var Yt=I(Rt,[["render",Wt]]);const Xt=W({name:"LeftSidebar",data:()=>({upgradePopup:!1,settingsPopup:!1}),components:{CreateFolder:Yt,CreateFile:Ht},methods:{gotoEmail:function(){this.selectedApp!=="email"&&this.changeApp("email")},gotoFiles:function(){this.selectedApp!=="files"&&this.changeApp("files")},changeApp:function(e){this.$router.push({name:`${e}-home`,params:{bucket:this.selectedBucket}})}},computed:{selectedBucket:function(){return this.$route.params.bucket},selectedApp:function(){return this.$route.name.split("-")[0]}},mounted:function(){localStorage.getItem("DASH_V2_ALERT")||(this.upgradePopup=!0,localStorage.setItem("DASH_V2_ALERT",!0))},setup(){return{mainStore:Y()}}}),jt={class:"q-pa-md",style:{height:"100%"}},Kt={class:"flex column",style:{height:"100%"}};function Gt(e,t,u,v,a,l){const r=x("create-folder"),p=x("create-file");return F(),qe(He,null,[w("div",jt,[w("div",Kt,[n(B,{color:"green",icon:"add",stack:"",class:"q-mb-lg",label:"New"},{default:s(()=>[n(St,null,{default:s(()=>[n(qt,null,{default:s(()=>[L((F(),N(ne,{clickable:"",onClick:t[0]||(t[0]=d=>e.$refs.createFile.open())},{default:s(()=>[n(le,null,{default:s(()=>[n(oe,null,{default:s(()=>[n(te,{name:"note_add",size:"sm"}),t[8]||(t[8]=D(" New File "))]),_:1})]),_:1})]),_:1})),[[z]]),L((F(),N(ne,{clickable:"",onClick:t[1]||(t[1]=d=>e.$refs.createFolder.open())},{default:s(()=>[n(le,null,{default:s(()=>[n(oe,null,{default:s(()=>[n(te,{name:"create_new_folder",size:"sm"}),t[9]||(t[9]=D(" New Folder "))]),_:1})]),_:1})]),_:1})),[[z]]),L((F(),N(ne,{clickable:"",onClick:t[2]||(t[2]=d=>e.$bus.emit("openFilesUploader"))},{default:s(()=>[n(le,null,{default:s(()=>[n(oe,null,{default:s(()=>[n(te,{name:"upload_file",size:"sm"}),t[10]||(t[10]=D(" Upload Files "))]),_:1})]),_:1})]),_:1})),[[z]]),L((F(),N(ne,{clickable:"",onClick:t[3]||(t[3]=d=>e.$bus.emit("openFoldersUploader"))},{default:s(()=>[n(le,null,{default:s(()=>[n(oe,null,{default:s(()=>[n(te,{name:"folder",size:"sm"}),t[11]||(t[11]=D(" Upload Folders "))]),_:1})]),_:1})]),_:1})),[[z]])]),_:1})]),_:1})]),_:1}),n(B,{class:"q-mb-sm",onClick:e.gotoFiles,color:"blue",icon:"folder_copy",label:"Files",stack:""},null,8,["onClick"]),n(B,{class:"q-mb-sm",onClick:e.gotoEmail,color:"blue",icon:"email",label:"Email",stack:""},null,8,["onClick"]),n(B,{class:"q-mb-sm q-mt-auto q-mb-0",onClick:t[4]||(t[4]=d=>e.upgradePopup=!0),color:"secondary",icon:"question_mark",label:"Info",stack:""})])]),n(re,{modelValue:e.upgradePopup,"onUpdate:modelValue":t[5]||(t[5]=d=>e.upgradePopup=d),persistent:"","no-esc-dismiss":"","no-route-dismiss":"","no-backdrop-dismiss":""},{default:s(()=>[n(ie,null,{default:s(()=>[n(M,null,{default:s(()=>t[12]||(t[12]=[w("div",{class:"text-h6"},"\u{1F389} Welcome to the new Dashboard v2! \u{1F680}",-1)])),_:1}),n(M,{class:"q-pt-none"},{default:s(()=>t[13]||(t[13]=[D(" We're thrilled to introduce our revamped interface, designed to enhance your experience and productivity. As you explore the new features and improvements, feel free to provide feedback or report any issues you encounter. Your input helps us fine-tune the dashboard to meet your needs better."),w("br",null,null,-1),w("br",null,null,-1),D(" To revisit this message in the future, simply click on the question mark icon located in the left corner. Your feedback is invaluable to us, so don't hesitate to reach out with any thoughts or concerns."),w("br",null,null,-1),w("br",null,null,-1),D(" Please report issues here: "),w("a",{href:"https://github.com/G4brym/R2-Explorer/issues",target:"_blank"},"https://github.com/G4brym/R2-Explorer/issues",-1),w("br",null,null,-1),w("br",null,null,-1),D(" If you would like to continue using the old Dashboard, please follow this "),w("a",{href:"https://r2explorer.dev/guides/continue-using-legacy-dashboard/",target:"_blank"},"guide from the documentation",-1),w("br",null,null,-1),w("br",null,null,-1),D(" Thank you for being a part of our journey towards excellence! \u{1F31F}"),w("br",null,null,-1),w("br",null,null,-1),D(" Best regards"),w("br",null,null,-1)])),_:1}),n(ue,{align:"right"},{default:s(()=>[L(n(B,{flat:"",label:"OK",color:"primary"},null,512),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(re,{modelValue:e.settingsPopup,"onUpdate:modelValue":t[7]||(t[7]=d=>e.settingsPopup=d)},{default:s(()=>[n(ie,null,{default:s(()=>[n(M,null,{default:s(()=>t[14]||(t[14]=[w("div",{class:"text-h6"},"Your server configurations",-1)])),_:1}),n(M,{class:"q-pt-none"},{default:s(()=>[e.mainStore.username?(F(),N(se,{key:0,filled:"",disable:"",modelValue:e.mainStore.username,"onUpdate:modelValue":t[6]||(t[6]=d=>e.mainStore.username=d)},null,8,["modelValue"])):bt("",!0),n(se,{filled:"",disable:"","model-value":e.mainStore.version},null,8,["model-value"])]),_:1}),n(ue,{align:"right"},{default:s(()=>[L(n(B,{flat:"",label:"OK",color:"primary"},null,512),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(r,{ref:"createFolder"},null,512),n(p,{ref:"createFile"},null,512)],64)}var Jt=I(Xt,[["render",Gt],["__scopeId","data-v-95286a60"]]);const Zt=W({name:"RightSidebar",data:()=>({columns:[{name:"name",required:!0,label:"Dessert (100g serving)",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"calories",align:"center",label:"Calories",field:"calories",sortable:!0},{name:"fat",label:"Fat (g)",field:"fat",sortable:!0},{name:"carbs",label:"Carbs (g)",field:"carbs"},{name:"protein",label:"Protein (g)",field:"protein"},{name:"sodium",label:"Sodium (mg)",field:"sodium"},{name:"calcium",label:"Calcium (%)",field:"calcium",sortable:!0,sort:(e,t)=>Number.parseInt(e,10)-Number.parseInt(t,10)},{name:"iron",label:"Iron (%)",field:"iron",sortable:!0,sort:(e,t)=>Number.parseInt(e,10)-Number.parseInt(t,10)}],rows:[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4,sodium:87,calcium:"14%",iron:"1%"},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3,sodium:129,calcium:"8%",iron:"1%"},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6,sodium:337,calcium:"6%",iron:"7%"},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3,sodium:413,calcium:"3%",iron:"8%"},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9,sodium:327,calcium:"7%",iron:"16%"},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0,sodium:50,calcium:"0%",iron:"0%"},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0,sodium:38,calcium:"0%",iron:"2%"},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5,sodium:562,calcium:"0%",iron:"45%"},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9,sodium:326,calcium:"2%",iron:"22%"},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7,sodium:54,calcium:"12%",iron:"6%"}]}),methods:{openFileDetails:e=>{}},computed:{selectedBucket:function(){return this.$route.params.bucket},selectedApp:function(){return this.$route.name.split("-")[0]}},mounted(){this.$bus.on("openFileDetails",this.openFileDetails)},beforeUnmount(){this.$bus.off("openFileDetails")},setup(){return{mainStore:Y()}}}),ea={class:"fit"};function ta(e,t,u,v,a,l){return F(),qe("div",ea,[n(Ft,{class:"fit",title:"Treats",rows:e.rows,columns:e.columns,"row-key":"name","hide-pagination":!0,"rows-per-page-options":[0],flat:!0},{default:s(()=>[gt(e.$slots,"top-right",{},()=>[n(B,{dense:"",flat:"",round:"",icon:"menu"})])]),_:3},8,["rows","columns"])])}var aa=I(Zt,[["render",ta]]),la=de({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const u=b(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>A("div",{class:u.value},Se(t.default))}});const oa=W({name:"BucketPicker",methods:{changeBucket:function(e){this.$router.push({name:`${this.selectedApp}-home`,params:{bucket:e}})}},computed:{selectedBucket:function(){return this.$route.params.bucket},selectedApp:function(){return this.$route.name.split("-")[0]}},setup(){return{mainStore:Y()}}});function na(e,t,u,v,a,l){return F(),N(Bt,{"model-value":e.selectedBucket,"onUpdate:modelValue":e.changeBucket,color:"blue","stack-label":"",dense:!0,filled:"","bg-color":"white",options:e.mainStore.buckets.map(r=>r.name),label:"Bucket",style:{"min-width":"100px"}},null,8,["model-value","onUpdate:modelValue","options"])}var ra=I(oa,[["render",na]]);const ia=W({name:"TopBar",emits:["toggle"],components:{BucketPicker:ra}});function ua(e,t,u,v,a,l){const r=x("bucket-picker");return F(),qe(He,null,[n(B,{dense:"",flat:"",round:"",icon:"menu",onClick:t[0]||(t[0]=p=>e.$emit("toggle"))}),n(la,{style:{overflow:"unset"},class:"text-bold"},{default:s(()=>[n(yt,null,{default:s(()=>t[1]||(t[1]=[w("img",{src:"/logo-white.svg"},null,-1)])),_:1}),t[2]||(t[2]=D(" R2-Explorer "))]),_:1}),n(At),w("div",null,[n(r)])],64)}var sa=I(ia,[["render",ua]]);const da={name:"MainLayout",components:{TopBar:sa,RightSidebar:aa,LeftSidebar:Jt},created(){Y().loadUserDisks().then(t=>{this.$route.path==="/"&&this.$router.push({name:"files-home",params:{bucket:t[0].name}})})},setup(){const e=Q(!1),t=Q(!1);return{leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},rightDrawerOpen:t,updateRightDrawer(u){t.value=u}}},mounted(){this.updateRightDrawer(!1)}};function ca(e,t,u,v,a,l){const r=x("top-bar"),p=x("left-sidebar"),d=x("right-sidebar"),f=x("router-view");return F(),N(kt,{view:"hHh LpR lFr"},{default:s(()=>[n(Pt,{reveal:"",class:"bg-green text-white"},{default:s(()=>[n(Et,null,{default:s(()=>[n(r,{onToggle:v.toggleLeftDrawer},null,8,["onToggle"])]),_:1})]),_:1}),n(ze,{width:100,"show-if-above":"",modelValue:v.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=i=>v.leftDrawerOpen=i),side:"left",bordered:""},{default:s(()=>[n(p)]),_:1},8,["modelValue"]),n(ze,{"show-if-above":"",modelValue:v.rightDrawerOpen,"onUpdate:modelValue":t[1]||(t[1]=i=>v.rightDrawerOpen=i),side:"right",bordered:""},{default:s(()=>[n(d,{onUpdateDrawer:v.updateRightDrawer},null,8,["onUpdateDrawer"])]),_:1},8,["modelValue"]),n($t,null,{default:s(()=>[n(f)]),_:1})]),_:1})}var Va=I(da,[["render",ca]]);export{Va as default};
