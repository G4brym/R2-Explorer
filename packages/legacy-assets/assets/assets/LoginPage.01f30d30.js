import{Q as c,a as w}from"./QCard.6072a0ad.js";import{f as h,h as u,j as n,k as f,n as y,Q,_ as k,a as q,o as p,c as b,w as t,e as o,F as g,G as C,H as S,I as V,J as x}from"./index.7b40bbd4.js";import{u as B,a as I}from"./use-dark.5b3707da.js";import{Q as v}from"./QInput.79d32fca.js";import{u as _,a as E,b as $}from"./use-checkbox.8a12221a.js";import{Q as P}from"./QForm.e513f022.js";import{Q as A}from"./QPage.07d38c58.js";import{u as D}from"./auth-store.8ee5f19f.js";import"./focus-manager.1ddae684.js";import"./axios.c4f749e1.js";import"./main-store.718cb995.js";var N=h({name:"QBanner",props:{...B,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:a}){const{proxy:{$q:s}}=y(),i=I(e,s),l=u(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(i.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),d=u(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const r=[n("div",{class:"q-banner__avatar col-auto row items-center self-start"},f(a.avatar)),n("div",{class:"q-banner__content col text-body2"},f(a.default))],m=f(a.action);return m!==void 0&&r.push(n("div",{class:d.value},m)),n("div",{class:l.value+(e.inlineActions===!1&&m!==void 0?" q-banner--top-padding":""),role:"alert"},r)}}}),U=h({name:"QToggle",props:{..._,icon:String,iconColor:String},emits:E,setup(e){function a(s,i){const l=u(()=>(s.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),d=u(()=>s.value===!0?e.iconColor:null);return()=>[n("div",{class:"q-toggle__track"}),n("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},l.value!==void 0?[n(Q,{name:l.value,color:d.value})]:void 0)]}return $("toggle",a)}});const j=D(),z=q({name:"login-page",components:{},data(){return{loading:!1,showError:"",form:{username:"",password:"",remind:!0}}},methods:{async onSubmit(){this.loading=!0;try{await j.LogIn(this.$router,this.form),this.showError=""}catch(e){throw this.showError=e.message,e}finally{this.loading=!1}}}});function F(e,a,s,i,l,d){return p(),b(A,{class:"flex flex-center"},{default:t(()=>[o(w,{class:"q-pa-md shadow-2",bordered:""},{default:t(()=>[o(c,{class:"text-center"},{default:t(()=>a[3]||(a[3]=[g("div",{class:"text-grey-9 text-h5 text-weight-bold"},"Sign in",-1),g("div",{class:"text-grey-8"},"Enter your email address and password to access admin panel.",-1)])),_:1}),e.showError?(p(),b(c,{key:0},{default:t(()=>[o(N,{"inline-actions":"",class:"text-white bg-red"},{default:t(()=>[C(S(e.showError),1)]),_:1})]),_:1})):V("",!0),o(c,null,{default:t(()=>[o(P,{onSubmit:e.onSubmit,class:"q-gutter-sm"},{default:t(()=>[o(v,{filled:"",modelValue:e.form.username,"onUpdate:modelValue":a[0]||(a[0]=r=>e.form.username=r),label:"Username","lazy-rules":"",type:"text"},null,8,["modelValue"]),o(v,{filled:"",modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=r=>e.form.password=r),label:"Password","lazy-rules":"",type:"password"},null,8,["modelValue"]),o(U,{modelValue:e.form.remind,"onUpdate:modelValue":a[2]||(a[2]=r=>e.form.remind=r),label:"Remember me"},null,8,["modelValue"]),g("div",null,[o(x,{loading:e.loading,label:"Sign in",type:"submit",color:"primary"},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var Y=k(z,[["render",F]]);export{Y as default};
